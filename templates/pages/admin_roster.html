{% extends "base.html" %}

{% block title %}Governor Roster — Admin — Pinwheel Fates{% endblock %}

{% block content %}
<h1>Governor Roster</h1>
<p class="text-muted">All players and their team assignments.</p>

{% if not governors %}
<div class="empty-state">
  <h3>No Governors Yet</h3>
  <p>No one has joined a team yet. Players join via <code>/join</code> in Discord.</p>
</div>
{% else %}

<div class="card mb-2">
  <div class="card-header">
    <h3>{{ governors|length }} Governor{{ 's' if governors|length != 1 else '' }}</h3>
  </div>
  <div class="card-body" style="padding: 0;">
    <table class="box-score-table">
      <thead>
        <tr>
          <th style="text-align:left">Governor</th>
          <th style="text-align:left">Team</th>
          <th style="text-align:left">Joined</th>
          <th>PROPOSE</th>
          <th>AMEND</th>
          <th>BOOST</th>
          <th>Proposals</th>
          <th>Passed</th>
          <th>Failed</th>
          <th>Votes</th>
        </tr>
      </thead>
      <tbody>
        {% for g in governors %}
        <tr>
          <td style="text-align:left;">
            <a href="/governors/{{ g.id }}">{{ g.username }}</a>
          </td>
          <td style="text-align:left;">
            <span class="team-dot-sm" style="background: {{ g.team_color }};"></span>
            {{ g.team_name }}
          </td>
          <td style="text-align:left;" class="mono" style="font-size: 0.85rem;">{{ g.joined.strftime('%b %d') if g.joined else '—' }}</td>
          <td class="mono">{{ g.propose }}</td>
          <td class="mono">{{ g.amend }}</td>
          <td class="mono">{{ g.boost }}</td>
          <td class="mono">{{ g.proposals_submitted }}</td>
          <td class="mono" style="color: var(--accent-score);">{{ g.proposals_passed }}</td>
          <td class="mono" style="color: var(--accent-game);">{{ g.proposals_failed }}</td>
          <td class="mono">{{ g.votes_cast }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endif %}
{% endblock %}
